---

title: "设计模式六大设计原则（三）：依赖倒置原则"
slug: "设计模式六大设计原则（三）：依赖倒置原则"
description:
date: "2019-04-06"
lastmod: "2019-04-06"
image:
math:
license:
hidden: false
draft: false
categories: ["学习笔记"]
tags: ["设计模式"]

---
# 一、定义
High level modules should not depend upon low level modules.Both should depend upon abstractions.Abstractions should not depend upon details.Details should depend upon abstractions.（高层模块不应该依赖低层模块，两者都应该依赖其抽象。 抽象不应该依赖细节。 细节应该依赖抽象）

用JAVA语言来阐述的话意思是约束了：
- 模块间的依赖通过抽象发生，实现类之间不发生直接的依赖关系，其依赖关系是通过接口或抽象类产生的
- 接口或抽象类不依赖于实现类
- 实现类依赖接口或抽象类
# 二、优点与限制
这不就是我们常听到的面向接口编程吗，其中的好处不言自明。但我还是简单总结下把：
## （一）优点
- 减少类间的耦合性，因为模块间的依赖变为了通过接口的方式，模块间调用依赖具体类变为了依赖接口，而接口更加抽象。
- 提高系统的稳定性，因为接口是具体类职责的抽象出的相对稳定的部分。
- 降低并行开发引起的风险，先定义接口职责，各模块可以通过接口来并行开发。
- 提高代码的可读性和可维护性，减少耦合，自然可读性可维护性就提高了。
## （二）限制
- 对于一个业务需求来说，并不是都能抽象出一个接口，如果强行抽象出接口，这个接口的复用性也不会很高。因为这个业务在这里的联系本来就是依赖于具体细节的。所以有时候我们看到WEB开发中，有些单体项目并不会为Service层定义接口，因为在这种项目中，定义接口的复用性也不是很高。
# 三、建议
- 每个类尽量都有接口或抽象类，或者抽象类和接口两者都具备（接口定义职责，抽象类提供默认实现）
- 变量的表面类型尽量是接口或者是抽象类
- 尽量不要从具体类派生类
- 尽量不要覆写基类已经实现的方法
- 结合里氏替换原则使用，意思就是说类实现时不要破坏抽象的职责定义


本文原载于[runningccode.github.io](https://runningccode.github.io)，遵循CC BY-NC-SA 4.0协议，复制请保留原文出处。